
<div class="container py-5">
  <div class="row">
    <div class="col-lg-6">
      <h1 class="text-primary mb-4">IMC Calculator</h1>
      <p class="mb-4">
        Calculate your Body Mass Index (IMC) to understand if you're at a healthy weight. Enter your details below to get started.
      </p>
      <form [formGroup]="imcForm" (ngSubmit)="calculateIMC()">
        <!-- Age -->
        <div class="form-group mb-3">
          <label for="age" class="form-label">Age</label>
          <input
            type="number"
            class="form-control"
            id="age"
            formControlName="age"
            placeholder="Enter your age"
            [ngClass]="{ 'is-valid': imcForm.get('age')?.valid, 'is-invalid': imcForm.get('age')?.invalid }"
          />
          <div *ngIf="imcForm.get('age')?.invalid && imcForm.get('age')?.touched" class="invalid-feedback">
            Age is required and must be valid.
          </div>
        </div>
        <!-- Gender -->
        <div class="form-group mb-3">
          <label for="gender" class="form-label">Gender</label>
          <select
            class="form-select"
            id="gender"
            formControlName="gender"
            [ngClass]="{ 'is-valid': imcForm.get('gender')?.valid, 'is-invalid': imcForm.get('gender')?.invalid }"
          >
            <option value="" disabled>Select your gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
          <div *ngIf="imcForm.get('gender')?.invalid && imcForm.get('gender')?.touched" class="invalid-feedback">
            Gender is required!
          </div>
        </div>
        <!-- Height -->
        <div class="form-group mb-3">
          <label for="height" class="form-label">Height (cm)</label>
          <input
            type="number"
            class="form-control"
            id="height"
            formControlName="height"
            placeholder="Enter your height in cm"
            [ngClass]="{ 'is-valid': imcForm.get('height')?.valid, 'is-invalid': imcForm.get('height')?.invalid }"
          />
          <div *ngIf="imcForm.get('height')?.invalid && imcForm.get('height')?.touched" class="invalid-feedback">
            Height is required and must be valid.
          </div>
        </div>
        <!-- Weight -->
        <div class="form-group mb-4">
          <label for="weight" class="form-label">Weight (kg)</label>
          <input
            type="number"
            class="form-control"
            id="weight"
            formControlName="weight"
            placeholder="Enter your weight in kg"
            [ngClass]="{ 'is-valid': imcForm.get('weight')?.valid, 'is-invalid': imcForm.get('weight')?.invalid }"
          />
          <div *ngIf="imcForm.get('weight')?.invalid && imcForm.get('weight')?.touched" class="invalid-feedback">
            Weight is required and must be valid.
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary w-100" [disabled]="imcForm.invalid">
          Calculate IMC
        </button>
        <button style="background-color: azure;" type="submit" class="btn  w-100" >
          Logout
        </button>
      </form>
      <div *ngIf="errorMessage" class="text-danger mt-3 text-center">
        {{ errorMessage }}
      </div>
    </div>
    <div class="col-lg-6 d-flex justify-content-center align-items-center">
      <div
      style="position: relative; display: inline-block; cursor: pointer; max-height: 500px;"
      (click)="toggleHistorique()"
    >
    <img
    src="../../../assets/img/img.png"
    alt="Healthy Lifestyle"
    class="img-fluid rounded shadow"
    style="max-height: 500px; width: 100%; object-fit: cover;"
  />
      <div
        style="
          position:relative;
          top: 10%;
          left: 50%;
          transform: translate(-50%, -50%);
          color: white;
          font-size: 18px;
          background: rgb(255, 255, 255);
          padding: 10px 20px;
          border-radius: 8px;
        "
      >
        {{ showHistorique ? 'Hide Historique' : 'Show Historique' }}
      </div>
    </div>

    </div>
  </div>
  <div *ngIf="imcResult" class="row mt-4">
    <div class="col-12 text-center">
      <h2>Your IMC: <span class="text-primary">{{ imcResult }}</span></h2>
      <p *ngIf="imcMessage" class="text-muted">{{ imcMessage }}</p>
    </div>
  </div>
</div>


<app-historique *ngIf="showHistorique"></app-historique>
